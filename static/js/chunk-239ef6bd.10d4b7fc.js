(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-239ef6bd"],{"73f3":function(t,e,a){},8418:function(t,e,a){"use strict";var s=a("c04e"),n=a("9bf2"),i=a("5c6c");t.exports=function(t,e,a){var r=s(e);r in t?n.f(t,r,i(0,a)):t[r]=a}},"841e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stockInfo",on:{click:t.closeByDialog}},[a("AppHeader",[a("p",{attrs:{slot:"center"},slot:"center"},[t._v("库存信息")])]),a("div",[a("div",{staticClass:"filters"},[a("div",{staticClass:"filters-label"},[t._v("选择日期:")]),a("div",{staticClass:"date-filters"},[a("input",{staticClass:"text-left",attrs:{type:"text",readonly:""},domProps:{value:t.calendar.display},on:{click:function(e){return e.stopPropagation(),t.openByDialog(e)}}})]),a("transition",{attrs:{name:"fade"}},[t.calendar.show?a("div",{staticClass:"calendar-dialog"},[a("div",{staticClass:"calendar-dialog-mask",on:{click:t.closeByDialog}}),a("div",{staticClass:"calendar-dialog-body"},[a("calendar",{attrs:{range:t.calendar.range,zero:t.calendar.zero,lunar:t.calendar.lunar,value:t.calendar.value},on:{select:t.calendar.select}})],1)]):t._e()])],1),a("div",{staticClass:"filters"},[a("div",{staticClass:"filters-label"},[t._v("商品代码:")]),a("div",{staticClass:"date-filters"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"text-left",attrs:{type:"text",placeholder:"请输入搜索关键词"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})])]),a("div",{staticClass:"filters"},[a("div",{staticClass:"filters-label"},[t._v("第二代码:")]),a("div",{staticClass:"date-filters"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.code2,expression:"code2"}],staticClass:"text-left",attrs:{type:"text",placeholder:"请输入搜索关键词"},domProps:{value:t.code2},on:{input:function(e){e.target.composing||(t.code2=e.target.value)}}})])]),a("div",{staticClass:"filters"},[a("div",{staticClass:"filters-label"},[t._v("商品名称:")]),a("div",{staticClass:"date-filters"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.goodname,expression:"goodname"}],staticClass:"text-left",attrs:{type:"text",placeholder:"请输入搜索关键词"},domProps:{value:t.goodname},on:{input:function(e){e.target.composing||(t.goodname=e.target.value)}}})])]),a("div",{staticClass:"filters-tips"},[a("p",[t._v('提示：若要查询多个商品，可输入多个商品代码、第二代码，用英文逗号字符分隔","。如：10000010,10000011')]),a("div",{staticClass:"filters-operation"},[a("van-button",{staticClass:"inquiry",attrs:{type:"info"},on:{click:t.beginInquiry}},[t._v("查询")]),a("van-button",{staticClass:"clear",attrs:{type:"info"},on:{click:t.clearFilter}},[t._v("清空")])],1)])]),t.hasData?a("div",{staticClass:"detailed-table"},[a("div",{staticClass:"table-content"},[a("table",[a("thead",[a("tr",[a("th",[t._v("商品代码")]),a("th",[t._v("商品名称")]),a("th",[t._v("第二代码")]),a("th",[t._v("小类代码")]),a("th",[t._v("库存数")]),a("th",[t._v("库存成本")]),t.isShow?a("th",[t._v("最大库存数")]):t._e(),t.isShow?a("th",[t._v("最小库存数")]):t._e(),t.isShow?a("th",[t._v("建议")]):t._e()])]),a("tbody",t._l(t.currentData,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.code))]),a("td",[t._v(t._s(e.goodname))]),a("td",[t._v(t._s(e.code2))]),a("td",[t._v(t._s(e.typeCode))]),a("td",[t._v(t._s(e.inventoryNum))]),a("td",[t._v(t._s(e.finvcost))]),t.isShow?a("td",[t._v(t._s(e.maxInvNum))]):t._e(),t.isShow?a("td",[t._v(t._s(e.minInvNum))]):t._e(),t.isShow?a("td",{class:e.inventoryNum>e.maxInvNum?"blue":e.minInvNum>e.inventoryNum?"red":""},[t._v(t._s(e.inventoryNum>e.maxInvNum?"退货":e.minInvNum>e.inventoryNum?"补货":"正常"))]):t._e()])})),0)])])]):t._e(),t.hasData?a("div",{staticClass:"pagination-module"},[a("el-pagination",{attrs:{background:"","hide-on-single-page":"",layout:"prev, pager, next, jumper","pager-count":5,"page-size":10,total:t.recordcount,"current-page":t.currentPage},on:{"current-change":t.pageCurrentChange}})],1):t._e()],1)},n=[],i=(a("a15b"),a("fb6a"),a("ac1f"),a("1276"),a("5852"),a("d961")),r=(a("c194"),a("7744")),o=(a("0653"),a("34e9")),c=(a("be7f"),a("565f")),l=(a("d1cf"),a("ee83")),d=(a("8a58"),a("e41f")),u=(a("66b9"),a("b650")),v=(a("c3a6"),a("ad06")),h=a("2b0e"),f=a("5c96"),g=a.n(f),p=a("a4ce"),_=(a("0fae"),a("ea77"));h["default"].use(i["a"]).use(r["a"]).use(o["a"]).use(c["a"]).use(l["a"]).use(d["a"]).use(u["a"]).use(v["a"]),h["default"].use(g.a);var m={name:"Search",components:{AppHeader:p["a"],calendar:_["a"]},data:function(){var t=this;return{calendar:{display:"2020/02/16",show:!1,zero:!0,value:[2019,2,16],lunar:!0,select:function(e){t.calendar_startDate=e.join("-"),t.calendar.show=!1,t.calendar.value=e,t.calendar.display=e.join("-"),t.formatDate.pastDate(0,"-")==e.join("-")?t.isShow=!0:t.isShow=!1,t.$nextTick((function(){t.get_data()}))}},calendar_startDate:"",calendar_endDate:"",code:"",code2:"",goodname:"",searchKey:"",hasData:!1,resultData:[],currentPage:1,recordcount:"",isShow:!0}},mounted:function(){var t=this;this.$nextTick((function(){t.get_defaultData(),t.get_data()}))},methods:{get_defaultData:function(){this.getStoreInfo=this.$store.getters.getStoreInfo;var t=this.formatDate.pastDate(0,"-"),e=this.formatDate.pastDate(0,"-");this.calendar_startDate=t,this.calendar_endDate=e,this.calendar.value=t.split("-"),this.calendar.display=this.formatDate.pastDate(0,"-")},openByDialog:function(){this.calendar.show=!0},closeByDialog:function(){this.calendar.show=!1},pageCurrentChange:function(t){this.currentPage=t,this.currentData=this.resultData.slice(10*this.currentPage-10,10*this.currentPage)},beginInquiry:function(){var t=this;this.$nextTick((function(){t.get_data()}))},clearFilter:function(){var t=this;this.get_defaultData(),this.code="",this.code2="",this.goodname="",this.searchKey="",this.$nextTick((function(){t.get_data()}))},get_data:function(){var t=this;this.toast.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner",duration:0}),this.getStoreInfo=this.$store.getters.getStoreInfo;var e={storeId:this.getStoreInfo.gid,code:this.code,code2:this.code2,goodname:this.goodname,startDate:this.calendar_startDate,endDate:this.calendar_endDate,searchType:"T",searchKey:this.searchKey};this.serverHost.fetchPost("/sku/InvSkuByCondition",e).then((function(e){t.toast.clear();var a=e.data.data;0==a.length?t.hasData=!1:(t.hasData=!0,t.resultData=a,t.currentData=a.slice(10*t.currentPage-10,10*t.currentPage),t.recordcount=a.length)})).catch((function(e){t.toast.clear(),console.log(e)}))}}},y=m,C=(a("8548"),a("2877")),D=Object(C["a"])(y,s,n,!1,null,"462f8867",null);e["default"]=D.exports},8548:function(t,e,a){"use strict";var s=a("73f3"),n=a.n(s);n.a},fb6a:function(t,e,a){"use strict";var s=a("23e7"),n=a("861d"),i=a("e8b5"),r=a("23cb"),o=a("50c4"),c=a("fc6a"),l=a("8418"),d=a("b622"),u=a("1dde"),v=a("ae40"),h=u("slice"),f=v("slice",{ACCESSORS:!0,0:0,1:2}),g=d("species"),p=[].slice,_=Math.max;s({target:"Array",proto:!0,forced:!h||!f},{slice:function(t,e){var a,s,d,u=c(this),v=o(u.length),h=r(t,v),f=r(void 0===e?v:e,v);if(i(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?n(a)&&(a=a[g],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return p.call(u,h,f);for(s=new(void 0===a?Array:a)(_(f-h,0)),d=0;h<f;h++,d++)h in u&&l(s,d,u[h]);return s.length=d,s}})}}]);
//# sourceMappingURL=chunk-239ef6bd.10d4b7fc.js.map