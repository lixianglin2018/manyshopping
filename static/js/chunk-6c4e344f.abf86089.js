(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c4e344f"],{"0653":function(t,e,a){"use strict";a("68ef"),a("5c56")},"34e9":function(t,e,a){"use strict";var n=a("2638"),i=a.n(n),r=a("d282"),s=a("ba31"),c=a("b1d2"),o=Object(r["a"])("cell-group"),u=o[0],l=o[1];function d(t,e,a,n){var r,o=t("div",i()([{class:[l(),(r={},r[c["d"]]=e.border,r)]},Object(s["b"])(n,!0)]),[null==a.default?void 0:a.default()]);return e.title||a.title?t("div",[t("div",{class:l("title")},[a.title?a.title():e.title]),o]):o}d.props={title:String,border:{type:Boolean,default:!0}},e["a"]=u(d)},5852:function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("1a04"),a("1146"),a("f032")},"5c56":function(t,e,a){},"66b9":function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("e3b3"),a("bc1b")},"75aa":function(t,e,a){},"96b0":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return s}));var n=a("90c6");function i(t,e){var a=-1,n=Array(t);while(++a<t)n[a]=e(a);return n}function r(t){if(!t)return 0;while(Object(n["a"])(parseInt(t,10))){if(!(t.length>1))return 0;t=t.slice(1)}return parseInt(t,10)}function s(t,e){return 32-new Date(t,e-1,32).getDate()}},a002:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Top10"},[a("AppHeader",[a("p",{attrs:{slot:"center"},slot:"center"},[t._v("top10")])]),a("div",{staticClass:"form-page"},[a("div",{staticClass:"filters"},[a("div",{staticClass:"filters-label"},[t._v("搜索范围:")]),a("div",{staticClass:"date-filters"},[a("input",{staticClass:"text-left",attrs:{type:"text",placeholder:"请选择",readonly:""},domProps:{value:t.rangePickerValue},on:{click:function(e){t.rangePicker=!0}}}),a("van-popup",{attrs:{position:"bottom"},model:{value:t.rangePicker,callback:function(e){t.rangePicker=e},expression:"rangePicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:t.rangeList,"item-height":"36","visible-item-count":"6","default-index":t.rangeSelectedIndex},on:{cancel:function(e){t.rangePicker=!1},confirm:t.rangePickerChange}})],1)],1)]),a("div",{staticClass:"filters"},[a("div",{staticClass:"filters-label"},[t._v("搜索内容:")]),a("div",{staticClass:"date-filters"},[a("van-field",{attrs:{"right-icon":"search",placeholder:"请输入关键字"},on:{"click-right-icon":function(e){return t.searchFun()}},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}})],1)]),a("div",{staticClass:"filters"},[a("div",{staticClass:"filters-label"},[t._v("条件:")]),a("div",{staticClass:"date-filters"},[a("div",{staticClass:"contrast"},[a("van-tabs",{on:{click:t.salesTabClick},model:{value:t.salesActive,callback:function(e){t.salesActive=e},expression:"salesActive"}},[a("van-tab",{attrs:{title:"销售额"}}),a("van-tab",{attrs:{title:"销售数"}}),a("van-tab",{attrs:{title:"毛利额"}})],1)],1)])]),a("div",{staticClass:"filters"},[a("div",{staticClass:"filters-label"},[t._v("周期:")]),a("div",{staticClass:"date-filters"},[a("div",{staticClass:"contrast"},[a("van-tabs",{on:{click:t.cycleTabClick},model:{value:t.cycleActive,callback:function(e){t.cycleActive=e},expression:"cycleActive"}},[a("van-tab",{attrs:{title:"近1天"}}),a("van-tab",{attrs:{title:"近1周"}}),a("van-tab",{attrs:{title:"近1月"}})],1)],1)])]),a("div",{staticClass:"filters"},[a("div",{staticClass:"filters-label"},[t._v("排序:")]),a("div",{staticClass:"date-filters"},[a("div",{staticClass:"contrast"},[a("van-tabs",{on:{click:t.sortTabClick},model:{value:t.sortActive,callback:function(e){t.sortActive=e},expression:"sortActive"}},[a("van-tab",{attrs:{title:"前10"}}),a("van-tab",{attrs:{title:"末10"}})],1)],1)])])]),t.hasData?a("div",{staticClass:"detailed-table"},[a("div",{staticClass:"table-content"},[a("table",[t._m(0),a("tbody",t._l(t.resultData,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1))]),a("td",[t._v(t._s(e.code))]),a("td",[t._v(t._s(e.goodname))]),a("td",[t._v(t._s(e.code2))]),a("td",[t._v(t._s(e.saleroom))]),a("td",[t._v(t._s(e.typeCode))]),a("td",[t._v(t._s(e.deptNo))]),a("td",[t._v(t._s(e.distributor))])])})),0)])])]):t._e()],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("序号")]),a("th",[t._v("商品代码")]),a("th",[t._v("商品名称")]),a("th",[t._v("第二代码")]),a("th",[t._v("销售额")]),a("th",[t._v("小类代码")]),a("th",[t._v("品牌")]),a("th",[t._v("供应商")])])])}],r=(a("5852"),a("d961")),s=(a("c194"),a("7744")),c=(a("0653"),a("34e9")),o=(a("be7f"),a("565f")),u=(a("d1cf"),a("ee83")),l=(a("8a58"),a("e41f")),d=(a("66b9"),a("b650")),h=(a("c3a6"),a("ad06")),f=a("2b0e"),v=a("a4ce");f["default"].use(r["a"]).use(s["a"]).use(c["a"]).use(o["a"]).use(u["a"]).use(l["a"]).use(d["a"]).use(h["a"]);var p={name:"Search",components:{AppHeader:v["a"]},data:function(){return{rangePickerValue:"",rangePicker:!1,rangeSelectedIndex:0,rangeList:["处别","部门","大类代码","中类代码","小类代码","品牌","供应商"],searchType:"",searchKey:"",sortText:"1",salesActive:0,startDate:"",endDate:"",cycleActive:0,orderType:"desc",sortActive:0,hasData:!1,resultData:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.get_defaultData(),t.get_data()}))},methods:{rangePickerChange:function(t,e){var a=this;this.rangeSelectedIndex=e,this.rangePickerValue=t,this.searchType=t,this.rangePicker=!1,this.$nextTick((function(){a.get_data()}))},searchFun:function(t){var e=this;this.$nextTick((function(){e.get_data()}))},salesTabClick:function(t,e,a){var n=this;0==t?this.$nextTick((function(){n.sortText="1",n.get_data()})):1==t?this.$nextTick((function(){n.sortText="2",n.get_data()})):2==t&&this.$nextTick((function(){n.sortText="3",n.get_data()}))},cycleTabClick:function(t,e,a){var n=this;0==t?this.$nextTick((function(){n.startDate=n.formatDate.pastDate(1,"-"),n.endDate=n.formatDate.pastDate(1,"-"),n.get_data()})):1==t?this.$nextTick((function(){n.startDate=n.formatDate.pastDate(7,"-"),n.endDate=n.formatDate.pastDate(1,"-"),n.get_data()})):2==t&&this.$nextTick((function(){n.startDate=n.formatDate.pastDate(31,"-"),n.endDate=n.formatDate.pastDate(1,"-"),n.get_data()}))},sortTabClick:function(t,e,a){var n=this;0==t?this.$nextTick((function(){n.orderType="desc",n.get_data()})):1==t&&this.$nextTick((function(){n.orderType="asc",n.get_data()}))},showDatetimePicker:function(){this.datetime_picker_show=!0},changeFn:function(){this.changeDate=this.currentDate},confirmFn:function(t,e,a){this.datetime_picker_show=!1,this.datetime=this.formatDate.formatDate(this.currentDate,"-"),this.get_data()},cancelFn:function(){this.datetime_picker_show=!1},get_defaultData:function(){this.startDate=this.formatDate.pastDate(1,"-"),this.endDate=this.formatDate.pastDate(1,"-")},get_data:function(){var t=this;this.toast.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner",duration:0}),this.getStoreInfo=this.$store.getters.getStoreInfo;var e={endDate:this.endDate,number:"10",orderType:this.orderType,searchKey:this.searchKey,searchType:this.searchType,sortText:this.sortText,startDate:this.startDate,storeId:this.getStoreInfo.gid};this.serverHost.fetchPost("/sku/saleTopSkuInfo",e).then((function(e){t.toast.clear();var a=e.data.data;0==a.length?t.hasData=!1:(t.hasData=!0,t.resultData=a)})).catch((function(e){t.toast.clear(),console.log(e)}))}}},m=p,b=(a("a0ea"),a("2877")),g=Object(b["a"])(m,n,i,!1,null,"1c4df843",null);e["default"]=g.exports},a0ea:function(t,e,a){"use strict";var n=a("75aa"),i=a.n(n);i.a},a4ce:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fixed-header"},[a("div",{staticClass:"fixed-header-cont"},[a("div",{staticClass:"default-header has-line"},[a("div",{staticClass:"default-header-cont"},[a("div",{staticClass:"left"},[a("div",{staticClass:"link return",on:{click:t.back}},[a("van-icon",{attrs:{name:"arrow-left"}})],1)]),a("div",{staticClass:"center"},[t._t("center")],2),a("div",{staticClass:"right"})])])])])},i=[],r=(a("c3a6"),a("ad06")),s=a("2b0e");s["default"].use(r["a"]);var c={name:"AppHeader",props:{pageTitle:String},methods:{back:function(t){this.$router.go(-1)}}},o=c,u=(a("eadd"),a("2877")),l=Object(u["a"])(o,n,i,!1,null,"378769d6",null);e["a"]=l.exports},bad1:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n=a("90c6");function i(t){return"[object Date]"===Object.prototype.toString.call(t)&&!Object(n["a"])(t.getTime())}},c194:function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("1a04")},c902:function(t,e,a){},d1cf:function(t,e,a){"use strict";a("68ef"),a("e3b3"),a("a526")},d961:function(t,e,a){"use strict";var n=a("2638"),i=a.n(n),r=a("c31d"),s=a("d282"),c=a("ba31"),o=a("1325"),u=a("565f"),l=Object(s["a"])("search"),d=l[0],h=l[1],f=l[2];function v(t,e,a,n){function s(){if(a.label||e.label)return t("div",{class:h("label")},[a.label?a.label():e.label])}function l(){if(e.showAction)return t("div",{class:h("action"),attrs:{role:"button",tabindex:"0"},on:{click:i}},[a.action?a.action():e.actionText||f("cancel")]);function i(){a.action||(Object(c["a"])(n,"input",""),Object(c["a"])(n,"cancel"))}}var d={attrs:n.data.attrs,on:Object(r["a"])({},n.listeners,{keypress:function(t){13===t.keyCode&&(Object(o["c"])(t),Object(c["a"])(n,"search",e.value)),Object(c["a"])(n,"keypress",t)}})},v=Object(c["b"])(n);return v.attrs=void 0,t("div",i()([{class:h({"show-action":e.showAction}),style:{background:e.background}},v]),[t("div",{class:h("content",e.shape)},[s(),t(u["a"],i()([{attrs:{type:"search",border:!1,value:e.value,leftIcon:e.leftIcon,rightIcon:e.rightIcon,clearable:e.clearable},scopedSlots:{"left-icon":a["left-icon"],"right-icon":a["right-icon"]}},d]))]),l()])}v.props={value:String,label:String,rightIcon:String,actionText:String,showAction:Boolean,background:String,shape:{type:String,default:"square"},clearable:{type:Boolean,default:!0},leftIcon:{type:String,default:"search"}},e["a"]=d(v)},eadd:function(t,e,a){"use strict";var n=a("c902"),i=a.n(n);i.a},ee83:function(t,e,a){"use strict";var n=a("c31d"),i=a("d282"),r=a("68ed"),s=a("482d"),c=a("96b0"),o=a("1b10"),u=a("f253"),l=Object(n["a"])({},o["a"],{value:null,filter:Function,showToolbar:{type:Boolean,default:!0},formatter:{type:Function,default:function(t,e){return e}}}),d={data:function(){return{innerValue:this.formatValue(this.value)}},computed:{originColumns:function(){var t=this;return this.ranges.map((function(e){var a=e.type,n=e.range,i=Object(c["c"])(n[1]-n[0]+1,(function(t){var e=Object(r["b"])(n[0]+t);return e}));return t.filter&&(i=t.filter(a,i)),{type:a,values:i}}))},columns:function(){var t=this;return this.originColumns.map((function(e){return{values:e.values.map((function(a){return t.formatter(e.type,a)}))}}))}},watch:{columns:"updateColumnValue",innerValue:function(t){this.$emit("input",t)}},mounted:function(){var t=this;this.updateColumnValue(),this.$nextTick((function(){t.updateInnerValue()}))},methods:{getPicker:function(){return this.$refs.picker},onConfirm:function(){this.$emit("confirm",this.innerValue)},onCancel:function(){this.$emit("cancel")}},render:function(){var t=this,e=arguments[0],a={};return Object.keys(o["a"]).forEach((function(e){a[e]=t[e]})),e(u["a"],{ref:"picker",attrs:{columns:this.columns},on:{change:this.onChange,confirm:this.onConfirm,cancel:this.onCancel},props:Object(n["a"])({},a)})}},h=Object(i["a"])("time-picker"),f=h[0],v=f({mixins:[d],props:Object(n["a"])({},l,{minHour:{type:[Number,String],default:0},maxHour:{type:[Number,String],default:23},minMinute:{type:[Number,String],default:0},maxMinute:{type:[Number,String],default:59}}),computed:{ranges:function(){return[{type:"hour",range:[+this.minHour,+this.maxHour]},{type:"minute",range:[+this.minMinute,+this.maxMinute]}]}},watch:{filter:"updateInnerValue",minHour:"updateInnerValue",maxHour:"updateInnerValue",minMinute:"updateInnerValue",maxMinute:"updateInnerValue",value:function(t){t=this.formatValue(t),t!==this.innerValue&&(this.innerValue=t,this.updateColumnValue(t))}},methods:{formatValue:function(t){t||(t=Object(r["b"])(this.minHour)+":"+Object(r["b"])(this.minMinute));var e=t.split(":"),a=e[0],n=e[1];return a=Object(r["b"])(Object(s["a"])(a,this.minHour,this.maxHour)),n=Object(r["b"])(Object(s["a"])(n,this.minMinute,this.maxMinute)),a+":"+n},updateInnerValue:function(){var t=this.getPicker().getIndexes(),e=t[0],a=t[1],n=this.originColumns,i=n[0],r=n[1],s=i.values[e]||i.values[0],c=r.values[a]||r.values[0];this.innerValue=this.formatValue(s+":"+c)},onChange:function(t){var e=this;this.updateInnerValue(),this.$nextTick((function(){e.$nextTick((function(){e.$emit("change",t)}))}))},updateColumnValue:function(){var t=this,e=this.formatter,a=this.innerValue.split(":"),n=[e("hour",a[0]),e("minute",a[1])];this.$nextTick((function(){t.getPicker().setValues(n)}))}}}),p=a("bad1"),m=(new Date).getFullYear(),b=Object(i["a"])("date-picker"),g=b[0],k=g({mixins:[d],props:Object(n["a"])({},l,{type:{type:String,default:"datetime"},minDate:{type:Date,default:function(){return new Date(m-10,0,1)},validator:p["a"]},maxDate:{type:Date,default:function(){return new Date(m+10,11,31)},validator:p["a"]}}),watch:{filter:"updateInnerValue",minDate:"updateInnerValue",maxDate:"updateInnerValue",value:function(t){t=this.formatValue(t),t.valueOf()!==this.innerValue.valueOf()&&(this.innerValue=t)}},computed:{ranges:function(){var t=this.getBoundary("max",this.innerValue),e=t.maxYear,a=t.maxDate,n=t.maxMonth,i=t.maxHour,r=t.maxMinute,s=this.getBoundary("min",this.innerValue),c=s.minYear,o=s.minDate,u=s.minMonth,l=s.minHour,d=s.minMinute,h=[{type:"year",range:[c,e]},{type:"month",range:[u,n]},{type:"day",range:[o,a]},{type:"hour",range:[l,i]},{type:"minute",range:[d,r]}];return"date"===this.type&&h.splice(3,2),"year-month"===this.type&&h.splice(2,3),h}},methods:{formatValue:function(t){return Object(p["a"])(t)||(t=this.minDate),t=Math.max(t,this.minDate.getTime()),t=Math.min(t,this.maxDate.getTime()),new Date(t)},getBoundary:function(t,e){var a,n=this[t+"Date"],i=n.getFullYear(),r=1,s=1,o=0,u=0;return"max"===t&&(r=12,s=Object(c["a"])(e.getFullYear(),e.getMonth()+1),o=23,u=59),e.getFullYear()===i&&(r=n.getMonth()+1,e.getMonth()+1===r&&(s=n.getDate(),e.getDate()===s&&(o=n.getHours(),e.getHours()===o&&(u=n.getMinutes())))),a={},a[t+"Year"]=i,a[t+"Month"]=r,a[t+"Date"]=s,a[t+"Hour"]=o,a[t+"Minute"]=u,a},updateInnerValue:function(){var t,e=this,a=this.getPicker().getIndexes(),n=function(t){var n=e.originColumns[t].values;return Object(c["b"])(n[a[t]])},i=n(0),r=n(1),s=Object(c["a"])(i,r);t="year-month"===this.type?1:n(2),t=t>s?s:t;var o=0,u=0;"datetime"===this.type&&(o=n(3),u=n(4));var l=new Date(i,r-1,t,o,u);this.innerValue=this.formatValue(l)},onChange:function(t){var e=this;this.updateInnerValue(),this.$nextTick((function(){e.$nextTick((function(){e.$emit("change",t)}))}))},updateColumnValue:function(){var t=this,e=this.innerValue,a=this.formatter,n=[a("year",""+e.getFullYear()),a("month",Object(r["b"])(e.getMonth()+1)),a("day",Object(r["b"])(e.getDate()))];"datetime"===this.type&&n.push(a("hour",Object(r["b"])(e.getHours())),a("minute",Object(r["b"])(e.getMinutes()))),"year-month"===this.type&&(n=n.slice(0,2)),this.$nextTick((function(){t.getPicker().setValues(n)}))}}}),y=Object(i["a"])("datetime-picker"),D=y[0],x=y[1];e["a"]=D({props:Object(n["a"])({},v.props,{},k.props),methods:{getPicker:function(){return this.$refs.root.getPicker()}},render:function(){var t=arguments[0],e="time"===this.type?v:k;return t(e,{ref:"root",class:x(),props:Object(n["a"])({},this.$props),on:Object(n["a"])({},this.$listeners)})}})},f032:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6c4e344f.abf86089.js.map