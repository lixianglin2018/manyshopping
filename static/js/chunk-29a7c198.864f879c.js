(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29a7c198"],{"484f":function(t,a,e){"use strict";var n=e("5037"),i=e.n(n);i.a},5037:function(t,a,e){},"6f7a":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stock chartPage",on:{click:t.closeByDialog}},[e("AppHeader",[e("p",{attrs:{slot:"center"},slot:"center"},[t._v("库存走势")])]),e("div",{staticClass:"contrast"},[e("van-tabs",{on:{click:t.salesTabClick},model:{value:t.salesActive,callback:function(a){t.salesActive=a},expression:"salesActive"}},[e("van-tab",{attrs:{title:"公历同期"}}),e("van-tab",{attrs:{title:"农历同期"}})],1)],1),e("div",{staticClass:"filters"},[e("div",{staticClass:"date-filters"},[e("input",{attrs:{type:"text",readonly:""},domProps:{value:t.calendar.display},on:{click:function(a){return a.stopPropagation(),t.openByDialog(a)}}})]),e("transition",{attrs:{name:"fade"}},[t.calendar.show?e("div",{staticClass:"calendar-dialog"},[e("div",{staticClass:"calendar-dialog-mask",on:{click:t.closeByDialog}}),e("div",{staticClass:"calendar-dialog-body"},[e("calendar",{attrs:{range:t.calendar.range,zero:t.calendar.zero,lunar:t.calendar.lunar,value:t.calendar.value},on:{select:t.calendar.select}})],1)]):t._e()])],1),e("div",{staticClass:"myChart-box"},[e("div",{ref:"myChart_sku",staticClass:"myChart",staticStyle:{width:"375px",height:"360px"}})])],1)},i=[],s=(e("4160"),e("a15b"),e("ac1f"),e("1276"),e("159b"),e("da3c"),e("0b33")),r=(e("bda7"),e("5e46")),o=(e("6d73"),e("473d")),c=(e("be7f"),e("565f")),l=e("2b0e"),d=e("a4ce"),u=e("ea77"),h=e("3eba"),f=e.n(h);e("ef97"),e("d28f"),e("007d");l["default"].use(s["a"]).use(r["a"]).use(o["a"]).use(c["a"]);var p={name:"Stock",components:{AppHeader:d["a"],calendar:u["a"]},data:function(){var t=this;return{active:0,salesActive:0,screenWidth:document.body.clientWidth,offsetTop:90/(750/document.body.clientWidth),calendar:{display:"2020/02/16 ~ 2020/03/16",show:!1,range:!0,zero:!0,value:[[2018,2,16],[2019,2,16]],lunar:!0,select:function(a,e){t.calendar_startDate=a.join("-"),t.calendar_endDate=e.join("-"),t.calendar.show=!1,t.calendar.value=[a,e],t.calendar.display=a.join("/")+" ~ "+e.join("/"),t.$nextTick((function(){t.get_data()}))}},calendar_startDate:"",calendar_endDate:"",getStoreInfo:"",sku_myChart:null,resultData:[]}},created:function(){var t=this;this.$nextTick((function(){t.get_defaultData(),t.get_data()}))},mounted:function(){},methods:{salesTabClick:function(t,a,e){var n=this;0==t?this.$nextTick((function(){n.drawLine_chart1()})):1==t&&this.$nextTick((function(){n.drawLine_chart2()}))},get_defaultData:function(){this.getStoreInfo=this.$store.getters.getStoreInfo;var t=this.formatDate.pastDate(this.$store.state.defaultDate+1,"-"),a=this.formatDate.pastDate(2,"-");this.calendar_startDate=t,this.calendar_endDate=a,this.calendar.value=[t.split("-"),a.split("-")],this.calendar.display=this.formatDate.pastDate(this.$store.state.defaultDate+1,"-")+" ~ "+this.formatDate.pastDate(2,"-")},get_data:function(){var t=this;this.toast.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner",duration:0}),this.dateArray=this.formatDate.dateArray(this.calendar_startDate,this.calendar_endDate);var a={storeId:this.getStoreInfo.gid,startDate:this.calendar_startDate,endDate:this.calendar_endDate};this.serverHost.fetchPost("/getReportData",a).then((function(a){t.toast.clear();var e=a.data.data,n=[],i=[],s=[];e.forEach((function(t){t.inventoryAmount?n.push(t.inventoryAmount):n.push("0"),t.invAmountSame?i.push(t.invAmountSame):i.push("0"),t.ninvAmountSame?s.push(t.ninvAmountSame):s.push("0")})),t.resultData=e,t.theDay_kc=n,t.contemporary_tqkc=i,t.contemporary_nlkc=s,0==t.salesActive?t.$nextTick((function(){t.drawLine_chart1()})):t.$nextTick((function(){t.drawLine_chart2()})),t.drawLine_chart1()})).catch((function(a){t.toast.clear(),console.log(a)}))},openByDialog:function(){this.calendar.show=!0},closeByDialog:function(){this.calendar.show=!1},drawLine_chart1:function(){var t=f.a.init(this.$refs.myChart_sku),a=this.dateArray,e=this.theDay_kc,n=this.contemporary_tqkc;t.setOption({tooltip:{trigger:"axis"},legend:{data:["库存金额","同期库存金额"],bottom:0,left:"center"},grid:{top:"5%",left:"3%",right:"12%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a},yAxis:{type:"value"},series:[{name:"库存金额",type:"line",data:e},{name:"同期库存金额",type:"line",data:n}]})},drawLine_chart2:function(){var t=f.a.init(this.$refs.myChart_sku),a=this.dateArray,e=this.theDay_kc,n=this.contemporary_nlkc;t.setOption({tooltip:{trigger:"axis"},legend:{data:["库存金额","同期库存金额"],bottom:0,left:"center"},grid:{top:"5%",left:"3%",right:"12%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a},yAxis:{type:"value"},series:[{name:"库存金额",type:"line",data:e},{name:"同期库存金额",type:"line",data:n}]})}}},y=p,v=(e("484f"),e("2877")),m=Object(v["a"])(y,n,i,!1,null,"7b2a7832",null);a["default"]=m.exports}}]);
//# sourceMappingURL=chunk-29a7c198.864f879c.js.map